<!DOCTYPE html>
<html lang="zh-hant">

    <head>

        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
        <meta name="theme-color" content="#ffffff">
        <meta name="robots" content="index, follow">

        <!-- SEO 標題與描述 -->
        <title>Skill Icons 選擇器 - 邱敬幃 Pardn Chiu</title>
        <meta name="title" content="Skill Icons 選擇器 - 邱敬幃 Pardn Chiu">
        <meta name="description" content="透過 Skill Icons 所製作的選擇器，讓開發者能快速、方便地整合各類技能圖示，提升使用體驗與開發效率。">
        <meta name="keywords" content="Skill Icons, 選擇器, 技能圖示, 前端工具, 快速整合, 開發效率, 開發者工具, 邱敬幃">
        <meta name="author" content="邱敬幃 Pardn Chiu">
        <link rel="author" href="https://pardn.io/">
        <link rel="canonical" href="https://pardnchiu.github.io/skill-icons-picker/">

        <!-- Favicon -->
        <link rel="icon" href="./static/image/logo.png" type="image/x-icon">

        <!-- Open Graph -->
        <meta property="og:title" content="Skill Icons 選擇器 - 邱敬幃 Pardn Chiu">
        <meta property="og:description" content="透過 Skill Icons 所製作的選擇器，讓開發者能快速、方便地整合各類技能圖示，提升使用體驗與開發效率。">
        <!-- <meta property="og:image" content="./image/cover.jpg"> -->
        <meta property="og:url" content="https://pardnchiu.github.io/skill-icons-picker/">
        <meta property="og:site_name" content="QuickUI">
        <meta property="og:type" content="website">
        <meta property="og:locale" content="zh_TW">

        <!-- Twitter -->
        <meta name="twitter:card" content="summary_large_image">
        <meta property="twitter:title" content="Skill Icons 選擇器 - 邱敬幃 Pardn Chiu">
        <meta property="twitter:description" content="透過 Skill Icons 所製作的選擇器，讓開發者能快速、方便地整合各類技能圖示，提升使用體驗與開發效率。">
        <!-- <meta property="twitter:image" content="./image/cover.jpg"> -->
        <meta property="twitter:url" content="https://pardnchiu.github.io/skill-icons-picker/">

        <!-- Google Verification -->
        <meta name="google-site-verification" content="YQQ2f6AchR8dcb55Az2BYd_mw4TrP0J1RApD-v2v65Y">

        <!-- Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-L5VYEZPVXX"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() { dataLayer.push(arguments); }
            gtag('js', new Date());
            gtag('config', 'G-L5VYEZPVXX');
        </script>

        <!-- Preload and Preconnect -->
        <!-- link -->
        <link rel="preconnect" href="https://cdn.jsdelivr.net">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

        <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css" as="style">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css">

        <link rel="preload" href="https://cdn.jsdelivr.net/npm/@pardnchiu/quickui@0.6.5/dist/QuickUI.js" as="script">
        <script src="https://cdn.jsdelivr.net/npm/@pardnchiu/quickui@0.6.5/dist/QuickUI.js" copyright="Pardn Ltd"></script>

        <link rel="preload" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" as="style">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0" />

        <!-- Local Resources -->
        <link rel="stylesheet" href="./static/css/index.css">

        <!-- JSON-LD Schema -->
        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebPage",
            "name": "Skill Icons 選擇器 - 邱敬幃 Pardn Chiu",
            "description": "透過 Skill Icons 所製作的選擇器，讓開發者能快速、方便地整合各類技能圖示，提升使用體驗與開發效率。",
            "url": "https://pardnchiu.github.io/skill-icons-picker/",
            "creator": {
                "@type": "Person",
                "name": "邱敬幃 Pardn Chiu",
                "url": "https://pardn.io/"
            },
            "image": "./static/image/website.jpg",
            "mainEntity": [
                {
                    "@type": "WebPageElement",
                    "name": "關於我 - 邱敬幃",
                    "url": "https://pardn.io/"
                },
            ]
        }
        </script>
    </head>

    <body id="body" :animation="fade-in">
        <temp-svg src="./static/image/logo.svg" alt=""></temp-svg>
        <h1 :html="i18n.title"></h1>
        <a href="https://github.com/pardnchiu/skill-icons-picker/blob/main/LICENSE" target="_blank">
            <span class="material-symbols-outlined">
                balance
            </span>
            MIT License
        </a>
        <!--  -->
        <h2>{{ i18n.picked }}</h2>
        <section class="result">
            <p>
                <span class="material-symbols-outlined">
                    drag_pan
                </span>
                {{ i18n.drag }}
            </p>
            <section id="picker-result" :data-hint="i18n.empty" data-result="">
            </section>
            <button @click="copy">
                <span class="material-symbols-outlined">
                    content_copy
                </span>
                {{ i18n.copy }}
            </button>
        </section>
        <!--  -->
        <h2>{{ i18n.all }}</h2>
        <section class="icons">
            <div :for="e in icons" :title="e" :data-selected="0" @click="selected">
                <img :lazyload="https://skillicons.dev/icons?i={{e}}">
                <span class="material-symbols-outlined">
                    check_circle
                </span>
            </div>
        </section>
        <!--  -->
        <footer>
            <a href="https://github.com/pardnchiu/skill-icons-picker" target="_blank">
                <i class="fa-brands fa-github"></i>
            </a>
            <a href="https://pardn.io/" target="_blank">
                <i class="fa-solid fa-globe"></i>
            </a>
        </footer>
        <!--  -->
        <a :href="./index.html?lang={{ change }}" class="lang">
            <i class="fa-solid fa-globe"></i>
            <span>{{ change }}</span>
        </a>
    </body>
    <script>
        document.addEventListener("DOMContentLoaded", async _ => {
            let icons = [], copyTimer;

            await fetch("icons")
                .then(response => response.text())
                .then(data => {
                    icons = data.split("\n").map(e => e.trim()).filter(e => e.length);
                })
                .catch(error => {
                    console.error(error);
                });

            const url = new URL(location.href);
            const currentLanguage = navigator.language || navigator.userLanguage;
            let lang = url.searchParams.get("lang");
            let isZh = /^zh/i.test(currentLanguage);

            if (lang != null) {
                isZh = /^zh/i.test(lang);
            };

            lang = (isZh ? "zh" : "en");

            let about, iOS, Web, day, editor;

            page = new QUI({
                id: "body",
                i18n: {
                    zh: "./static/i18n/zh.json",
                    en: "./static/i18n/en.json",
                },
                i18nLang: isZh ? "zh" : "en",
                data: {
                    lang: isZh ? "zh" : "en",
                    change: isZh ? "en" : "zh",
                    icons: icons
                },
                event: {
                    selected: e => {
                        const _this = e.target;
                        const title = _this.title.trim();
                        const picker = document.getElementById("picker-result");
                        const selected = picker.querySelector("img[title='" + title + "']");

                        _this.dataset.selected = +_this.dataset.selected ? 0 : 1;

                        if (!+_this.dataset.selected && selected != null) {
                            selected.remove();
                        }
                        else if (+_this.dataset.selected) {
                            const img = document.createElement("img");
                            img.title = title;
                            img.src = "https://skillicons.dev/icons?i=" + title;
                            img.draggable = true;
                            img.ondragstart = page.event.dragStart;
                            img.ondragend = page.event.dragEnd;
                            img.ondragover = page.event.dragOver;
                            img.ondragleave = page.event.dragLeave;
                            img.ondrop = page.event.drop;

                            picker.appendChild(img)
                        };

                        page.event.change();
                    },
                    dragStart: e => {
                        dragTarget = e.target;
                        setTimeout(() => {
                            dragTarget.style.opacity = "0.5";
                        }, 0);
                    },
                    dragEnd: e => {
                        setTimeout(() => {
                            dragTarget.style.opacity = "1";
                            dragTarget = null;
                        }, 0);
                    },
                    dragOver: e => {
                        e.preventDefault();

                        if (e.target === dragTarget) {
                            return;
                        }

                        e.target.style.color = "red";
                    },
                    dragLeave: e => {
                        e.target.style.color = "#000";
                    },
                    drop: e => {
                        e.preventDefault();

                        if (dragTarget !== e.target) {
                            const allItems = [...dragTarget.parentElement.children];
                            const droppedIndex = allItems.indexOf(e.target);
                            const draggedIndex = allItems.indexOf(dragTarget);

                            e.target.style.color = "#000";

                            if (draggedIndex > droppedIndex) {
                                console.log(dragTarget, e.target)
                                dragTarget.parentElement.insertBefore(dragTarget, e.target);
                            }
                            else {
                                dragTarget.parentElement.insertBefore(dragTarget, e.target.nextElementSibling);
                            };

                            page.event.change();
                        }
                    },
                    change: _ => {
                        const picker = document.getElementById("picker-result");
                        picker.dataset.result = [...picker.children].map(e => e.title).join(",");
                    },
                    copy: e => {
                        const picker = document.getElementById("picker-result");
                        const _this = e.target;

                        clearTimeout(copyTimer);

                        try {
                            navigator.clipboard.writeText("https://skillicons.dev/icons?i=" + picker.dataset.result);

                            _this.innerHTML = _this.innerHTML.replace(/拷貝結果/, "已拷貝").replace(/Copy link/, "Copied");
                            copyTimer = setTimeout(() => {
                                _this.innerHTML = _this.innerHTML.replace(/已拷貝/, "拷貝結果").replace(/Copied/, "Copy link");
                            }, 500);
                        }
                        catch (err) {
                            alert(err);
                        };
                    }
                },
            });
        });
    </script>

</html>